import json
import logging
from typing import List, Dict, Optional

# í•„ìš”í•œ ëª¨ë“ˆ ì„í¬íŠ¸
try:
    # Vector DB í´ë¼ì´ì–¸íŠ¸ (Qdrant)
    from core.vector_db import get_vector_db_client
    from llm_factory import LLMFactory
except ImportError:
    pass

logger = logging.getLogger(__name__)


class ChatbotService:
    # =========================================================================
    # [ì„¤ì •] ì‚¬ìš©í•  LLM ëª¨ë¸ ì§€ì •
    # =========================================================================
    TARGET_MODEL_NAME = "gemini-2.0-flash-001"

    # =========================================================================

    @staticmethod
    async def generate_response(user_query: str, chat_history: List[Dict] = None) -> dict:
        """
        RAG(Vector DB) -> LLM(Gemini) ìˆœì„œë¡œ ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.
        ì‹¤íŒ¨ ì‹œ í‚¤ì›Œë“œ ë§¤ì¹­ìœ¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤.
        """

        # 1. [ê¸°ë³¸ ì§€ì‹] AIì—ê²Œ ì£¼ì…í•  ê³ ì • í”„ë¡œì íŠ¸ ì •ë³´
        base_context = """
        [TRPG Studio ì„œë¹„ìŠ¤ ì •ë³´]
        1. ì„œë¹„ìŠ¤ ê°œìš”: ì—¬ìš¸(YEOUL)ì€ ë©€í‹° ì—ì´ì „íŠ¸ AI ê¸°ë°˜ì˜ ì¸í„°ë™í‹°ë¸Œ TRPG í”Œë«í¼ì…ë‹ˆë‹¤.
        2. ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ (Builder Mode): ë…¸ë“œ ê¸°ë°˜ í¸ì§‘ê¸°, AI ë³´ì¡° ë„êµ¬(NPC/ì§€ë¬¸ ìƒì„±), ë¡œì§ ê²€ìˆ˜ ì œê³µ.
        3. ìš”ê¸ˆì œ: Free(3ê°œ ìƒì„±), Pro(9,900ì›/ë¬´ì œí•œ/GPT-4), Biz(29,900ì›/íŒŒì¸íŠœë‹).
        4. í”Œë ˆì´: ë©”ì¸ í™”ë©´ ë¦¬ìŠ¤íŠ¸ ì„ íƒ -> 1:1 AI GMê³¼ í”Œë ˆì´.

        [ê¸°ë³¸ ê°€ì´ë“œ]
        * ì±—ë´‡ ì´ë¦„: ì—¬ìš¸ (ì¹œì ˆí•˜ê³  ì¬ì¹˜ìˆëŠ” ê°€ì´ë“œ)
        * ì£¼ìš” ê¸°ëŠ¥: ì‹œë‚˜ë¦¬ì˜¤ ì œì‘, í”Œë ˆì´, ì´ë¯¸ì§€ ìƒì„±, NPC ìƒì„±
        """

        # 2. [RAG] Vector DBì—ì„œ ê´€ë ¨ ì •ë³´ ê²€ìƒ‰
        rag_context = ""
        try:
            if 'get_vector_db_client' in globals():
                vector_db = get_vector_db_client()

                # â–¼â–¼â–¼ [ìˆ˜ì • ì‹œì‘] ë©”ì„œë“œ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ ë° í˜¸ì¶œ ë¡œì§ ê°•í™” â–¼â–¼â–¼
                if vector_db:
                    search_func = getattr(vector_db, 'search', None)

                    if search_func:
                        # ë¹„ë™ê¸° í•¨ìˆ˜ì¸ì§€ í™•ì¸í•˜ê³  í˜¸ì¶œ
                        import inspect
                        if inspect.iscoroutinefunction(search_func):
                            search_results = await search_func(user_query, k=3)
                        else:
                            search_results = search_func(user_query, k=3)

                        if search_results:
                            retrieved_texts = []
                            for doc in search_results:
                                # ê²°ê³¼ ì²˜ë¦¬ (ë”•ì…”ë„ˆë¦¬ or ê°ì²´)
                                if isinstance(doc, dict):
                                    # vector_db.pyì˜ searchëŠ” dict ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ë©°, í…ìŠ¤íŠ¸ í‚¤ëŠ” 'page_content'ì…ë‹ˆë‹¤.
                                    content = doc.get('page_content') or doc.get('text') or str(doc)
                                    retrieved_texts.append(content)
                                elif hasattr(doc, 'page_content'):
                                    retrieved_texts.append(doc.page_content)
                                else:
                                    retrieved_texts.append(str(doc))

                            rag_context = "\n".join(retrieved_texts)
                            logger.info(f"RAG Retrieval Success: Found {len(search_results)} docs")
                    else:
                        logger.warning("VectorDB Client has no 'search' method.")

        except Exception as e:
            logger.warning(f"RAG Retrieval Failed (Using base context only): {e}")

        # 3. [LLM] í”„ë¡¬í”„íŠ¸ êµ¬ì„± ë° í˜¸ì¶œ
        try:
            if 'LLMFactory' in globals() and hasattr(LLMFactory, 'create_llm'):
                # ëŒ€í™” íˆìŠ¤í† ë¦¬ í¬ë§·íŒ… (ìµœê·¼ 3ê°œ)
                history_text = ""
                if chat_history:
                    recent_history = chat_history[-3:]
                    for msg in recent_history:
                        role = "User" if msg.get('role') == 'user' else "AI"
                        history_text += f"{role}: {msg.get('content')}\n"

                # ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ê°•í™” (RAG ì •ë³´ ë°˜ì˜)
                system_prompt = f"""
                ë‹¹ì‹ ì€ TRPG Studioì˜ ì¹œì ˆí•˜ê³  ì¬ì¹˜ ìˆëŠ” AI ê°€ì´ë“œ 'ì—¬ìš¸'ì…ë‹ˆë‹¤.
                ì‚¬ìš©ìëŠ” TRPG ê²Œì„ì„ ë§Œë“¤ê±°ë‚˜ í”Œë ˆì´í•˜ëŠ” ìœ ì €ì…ë‹ˆë‹¤.

                [ì§€ì¹¨]
                1. ì•„ë˜ ì œê³µëœ '[ê²€ìƒ‰ëœ ì§€ì‹]'ê³¼ '[ê¸°ë³¸ ì •ë³´]'ë¥¼ ìµœìš°ì„ ìœ¼ë¡œ ì°¸ê³ í•˜ì—¬ ë‹µë³€í•˜ì„¸ìš”.
                2. ì •ë³´ê°€ ë¶€ì¡±í•˜ë‹¤ë©´ ì†”ì§íˆ ëª¨ë¥´ê² ë‹¤ê³  í•˜ê³ , ë©”ë‰´ ì´ìš©ì„ ê¶Œì¥í•˜ì„¸ìš”.
                3. ë§íˆ¬ëŠ” ì¹œì ˆí•˜ê³  ê²©ë ¤í•˜ëŠ” í†¤("~í•´ìš”", "~í•´ë³´ì„¸ìš”!")ì„ ì‚¬ìš©í•˜ì„¸ìš”.
                4. ë‹µë³€ ëì—ëŠ” í•­ìƒ ì‚¬ìš©ìê°€ ì´ì–´ì„œ í•  ë²•í•œ ì§ˆë¬¸ 2~3ê°œë¥¼ 'choices'ì— ë‹´ì•„ ì£¼ì„¸ìš”.

                [ê¸°ë³¸ ì •ë³´]
                {base_context}

                [ê²€ìƒ‰ëœ ì§€ì‹ (RAG)]
                {rag_context if rag_context else "ê´€ë ¨ëœ ì¶”ê°€ ì§€ì‹ì´ ì—†ìŠµë‹ˆë‹¤."}

                [ì´ì „ ëŒ€í™”]
                {history_text}

                ë°˜ë“œì‹œ ì•„ë˜ JSON í˜•ì‹ì„ ì§€ì¼œì„œ ì‘ë‹µí•˜ì„¸ìš”. (ë§ˆí¬ë‹¤ìš´ ì—†ì´ ìˆœìˆ˜ JSONë§Œ)
                {{
                    "answer": "ë‹µë³€ ë‚´ìš©... (ì¤„ë°”ê¿ˆì€ \\n ì‚¬ìš©)",
                    "choices": ["ì„ íƒì§€1", "ì„ íƒì§€2"]
                }}
                """

                # ëª¨ë¸ ìƒì„± (Gemini 2.0 Flash)
                llm = LLMFactory.create_llm(ChatbotService.TARGET_MODEL_NAME)

                # LLM í˜¸ì¶œ
                response_text = await llm.chat_completion(
                    system_prompt=system_prompt,
                    user_input=f"Question: {user_query}"
                )

                # ê²°ê³¼ íŒŒì‹±
                cleaned_text = response_text.replace("```json", "").replace("```", "").strip()
                return json.loads(cleaned_text)

            else:
                # LLM ëª¨ë“ˆì´ ì—†ì„ ê²½ìš°
                return ChatbotService.get_keyword_response(user_query)

        except Exception as e:
            logger.error(f"Chatbot LLM Error: {e}")
            # LLM ì‹¤íŒ¨ ì‹œ í‚¤ì›Œë“œ ë¡œì§ìœ¼ë¡œ Fallback
            return ChatbotService.get_keyword_response(user_query)

    # â–¼â–¼â–¼ í‚¤ì›Œë“œ ë¶„ì„ ë¡œì§ (Fallback) â–¼â–¼â–¼
    @staticmethod
    def get_keyword_response(query: str) -> dict:
        """
        AI ëª¨ë¸ ì—°ê²° ë¶ˆê°€ ì‹œ, í‚¤ì›Œë“œ ì ìˆ˜(Score) ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ì í•©í•œ ë‹µë³€ì„ ì°¾ìŠµë‹ˆë‹¤.
        """
        query = query.lower().strip()

        # ë‹µë³€ í…œí”Œë¦¿ ë¦¬ìŠ¤íŠ¸
        responses = [
            # ... (ê¸°ì¡´ í‚¤ì›Œë“œ ì‘ë‹µ ë¦¬ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ ìœ ì§€) ...
            # ê¸°ì¡´ ì½”ë“œê°€ ë„ˆë¬´ ê¸¸ì–´ ìƒëµí•©ë‹ˆë‹¤. ì›ë³¸ì˜ responses ë¦¬ìŠ¤íŠ¸ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë‘ì‹œë©´ ë©ë‹ˆë‹¤.
            # -----------------------------------------------------------
            # [ìš°ì„ ìˆœìœ„ ë†’ìŒ] ì´ë¯¸ì§€ ìƒì„± ì˜¤ë¥˜/ë¬¸ì œ í•´ê²°
            # -----------------------------------------------------------
            {
                "keywords": ['ì—‘ë°•', 'ê¹¨ì§', 'ì•ˆë‚˜ì™€', 'ì•ˆë³´ì—¬', 'ë¡œë”©', 'ì‹¤íŒ¨', 'error', 'ì´ë¯¸ì§€', 'ì˜¤ë¥˜', 'ë²„ê·¸', 'ì•ˆë¼', 'ì•ˆë¨', 'í•´ê²°', 'ë¬¸ì œ'],
                "required": ['ì´ë¯¸ì§€'],
                "answer": "âš ï¸ **ì´ë¯¸ì§€ ìƒì„± ë¬¸ì œ í•´ê²°**\n\nì´ë¯¸ì§€ê°€ ì œëŒ€ë¡œ ë‚˜ì˜¤ì§€ ì•Šë‚˜ìš”?\n\n1. **ìƒˆë¡œê³ ì¹¨(F5)**: ì¼ì‹œì ì¸ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n2. **í† í° í™•ì¸**: í† í°ì´ ë¶€ì¡±í•˜ë©´ ìƒì„±ì´ ì¤‘ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆì´í˜ì´ì§€ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.\n3. **ì ì‹œ í›„ ì‹œë„**: ì„œë²„ íŠ¸ë˜í”½ì´ ë§ì„ ê²½ìš° ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "ë¬¸ì˜í•˜ê¸°", "ì²˜ìŒìœ¼ë¡œ"]
            },
            # 1. ì‹œë‚˜ë¦¬ì˜¤/í”„ë¦¬ì…‹ ê´€ë¦¬
            {
                "keywords": ['ì‹œë‚˜ë¦¬ì˜¤', 'scenario', 'ë¡œë“œ', 'load', 'ë¶ˆëŸ¬ì˜¤ê¸°', 'ì—´ê¸°', 'ê°€ì ¸ì˜¤ê¸°'],
                "required": ['ë¡œë“œ', 'load', 'ë¶ˆëŸ¬ì˜¤ê¸°', 'ì—´ê¸°', 'ê°€ì ¸ì˜¤ê¸°'],
                "answer": "ğŸ“‚ **ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œ (Load Scenario)**\n\nì‘ì„±í•˜ë˜ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í¸ì§‘ê¸°ë¡œ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?\n\n1. ë¹Œë” ëª¨ë“œ ìƒë‹¨ì˜ **'Load Scenario'** ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.\n2. ì„œë²„ì— ì €ì¥ëœ ë‚˜ì˜ ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\n3. ì›í•˜ëŠ” í•­ëª©ì„ ì„ íƒí•˜ë©´ ì—ë””í„°ì— ë‚´ìš©ì´ ë¡œë“œë©ë‹ˆë‹¤.",
                "choices": ["í”„ë¦¬ì…‹ ë¡œë“œë€?", "ë‚´ ì‹œë‚˜ë¦¬ì˜¤ ë³´ê¸°", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },
            {
                "keywords": ['ë‚´', 'my', 'ì‘í’ˆ', 'ëª©ë¡', 'ë¦¬ìŠ¤íŠ¸', 'í™•ì¸', 'ë³´ê¸°', 'list'],
                "required": ['ëª©ë¡', 'ë¦¬ìŠ¤íŠ¸', 'í™•ì¸', 'ë³´ê¸°', 'ë‚´'],
                "answer": "ğŸ“– **ë‚´ ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ ë³´ê¸°**\n\në‚´ê°€ ë§Œë“  ì‘í’ˆë“¤ì„ í™•ì¸í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?\n\n1. ìš°ì¸¡ ìƒë‹¨ í”„ë¡œí•„ì„ í´ë¦­í•˜ì—¬ **'ë§ˆì´í˜ì´ì§€'**ë¡œ ì´ë™í•˜ì„¸ìš”.\n2. **'ë‚´ ì‹œë‚˜ë¦¬ì˜¤'** íƒ­ì—ì„œ ì‘ì„± ì¤‘ì´ê±°ë‚˜ ì™„ì„±ëœ ì‹œë‚˜ë¦¬ì˜¤ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n3. ëª©ë¡ì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ ë³´ê±°ë‚˜ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™", "ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œë€?", "ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ë§Œë“¤ê¸°"]
            },
            {
                "keywords": ['í”„ë¦¬ì…‹', 'preset', 'ì €ì¥', 'save', 'ë‹¤ìš´ë¡œë“œ', 'ë°±ì—…'],
                "required": ['í”„ë¦¬ì…‹', 'preset'],
                "answer": "ğŸ’¾ **í”„ë¦¬ì…‹(Preset) ì €ì¥**\n\ní˜„ì¬ ìº”ë²„ìŠ¤ì— ê·¸ë ¤ì§„ **ë…¸ë“œì™€ ì—°ê²° êµ¬ì¡°**ë¥¼ ë‚´ ì»´í“¨í„°ì— **JSON íŒŒì¼**ë¡œ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nì‘ì—… ì¤‘ì¸ ë°°ì¹˜ë¥¼ ë°±ì—…í•˜ê±°ë‚˜, ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ì‹œë‚˜ë¦¬ì˜¤ êµ¬ì¡°ë¥¼ ê³µìœ í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.",
                "choices": ["í”„ë¦¬ì…‹ ë¡œë“œê°€ ë­”ê°€ìš”?", "ì‹œë‚˜ë¦¬ì˜¤ ì €ì¥ê³¼ ì°¨ì´ì ", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },
            {
                "keywords": ['í”„ë¦¬ì…‹', 'preset', 'ë¡œë“œ', 'load', 'ë¶ˆëŸ¬ì˜¤ê¸°', 'ì—´ê¸°'],
                "required": ['í”„ë¦¬ì…‹', 'preset'],
                "answer": "ğŸ“‚ **í”„ë¦¬ì…‹(Preset) ë¡œë“œ**\n\nì»´í“¨í„°ì— ê°€ì§€ê³  ìˆëŠ” **í”„ë¦¬ì…‹ íŒŒì¼(.json)**ì„ ìº”ë²„ìŠ¤ì— ì ìš©í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\n\nâš ï¸ **ì£¼ì˜:** í”„ë¦¬ì…‹ì„ ë¡œë“œí•˜ë©´ í˜„ì¬ ìº”ë²„ìŠ¤ì˜ ë‚´ìš©ì€ ì‚¬ë¼ì§€ê³  í”„ë¦¬ì…‹ì˜ êµ¬ì¡°ë¡œ ë®ì–´ì”Œì›Œì§‘ë‹ˆë‹¤.",
                "choices": ["í”„ë¦¬ì…‹ ì €ì¥ì´ ë­”ê°€ìš”?", "ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œë€?", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },
            {
                "keywords": ['í”„ë¦¬ì…‹', 'ì‹œë‚˜ë¦¬ì˜¤', 'ì°¨ì´', 'vs', 'ë¹„êµ', 'ë‹¤ë¥¸'],
                "required": ['í”„ë¦¬ì…‹', 'ì‹œë‚˜ë¦¬ì˜¤'],
                "answer": "âš–ï¸ **í”„ë¦¬ì…‹ ë¡œë“œ vs ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œ ì°¨ì´ì **\n\në‘ ê¸°ëŠ¥ì€ **'ì–´ë””ì„œ'** ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠëƒê°€ ë‹¤ë¦…ë‹ˆë‹¤.\n\nâ€¢ **í”„ë¦¬ì…‹ ë¡œë“œ**: ë‚´ ì»´í“¨í„°ì— ì €ì¥ëœ **JSON íŒŒì¼(êµ¬ì¡°)**ì„ ìº”ë²„ìŠ¤ë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. (ë¡œì»¬ íŒŒì¼)\nâ€¢ **ì‹œë‚˜ë¦¬ì˜¤ ë¡œë“œ**: ì„œë²„ì— ì €ì¥ëœ **ë‚´ í”„ë¡œì íŠ¸**ë¥¼ í¸ì§‘ê¸°ë¡œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤. (í´ë¼ìš°ë“œ DB)\n\nì¦‰, í”„ë¦¬ì…‹ì€ 'ë‹¨ìˆœ ë„ë©´ ë°±ì—…', ì‹œë‚˜ë¦¬ì˜¤ëŠ” 'ì§„í–‰ ì¤‘ì¸ í”„ë¡œì íŠ¸ ì „ì²´'ë¼ê³  ì´í•´í•˜ì‹œë©´ ë©ë‹ˆë‹¤!",
                "choices": ["í”„ë¦¬ì…‹ ì €ì¥ì´ ë­”ê°€ìš”?", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },

            # 2. ë¹Œë”(ì œì‘) ìƒì„¸ ê¸°ëŠ¥
            {
                "keywords": ['npc', 'ë“±ì¥ì¸ë¬¼', 'ìºë¦­í„°', 'ì¸ë¬¼', 'ë§Œë“¤', 'ìƒì„±', 'ì¶”ê°€', 'ë°©ë²•'],
                "required": ['npc'],
                "answer": "ğŸ‘¥ **NPC ìƒì„± ê°€ì´ë“œ**\n\nNPC ìƒì„± íƒ­ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ ëª¨í—˜ì„ ë•ê±°ë‚˜ ë°©í•´í•˜ëŠ” ì¸ë¬¼ì„ ë§Œë“­ë‹ˆë‹¤.\n\nâ€¢ **í•„ìˆ˜**: ì´ë¦„, ì—­í• /ì§ì—…, ì„±ê²©/íŠ¹ì§•, ëŒ€í‘œ ëŒ€ì‚¬\nâ€¢ **ìƒì„¸**: ì™¸ëª¨ ë¬˜ì‚¬, ë°°ê²½ ì„¤ì •, ìˆ¨ê²¨ì§„ ë¹„ë°€\nâ€¢ **ì„¤ì •**: ë‚˜ì´ëŒ€, í˜‘ë ¥ë„(ìš°í˜¸/ì¤‘ë¦½/ë¹„í˜‘ì¡°)\n\nìƒì„±ëœ NPCëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ìƒë™ê°ì„ ë”í•˜ê³  í”Œë ˆì´ì–´ì™€ ìƒí˜¸ì‘ìš©í•©ë‹ˆë‹¤.",
                "choices": ["ì (Enemy) ìƒì„± ë°©ë²•", "ì•„ì´í…œ ìƒì„± ë°©ë²•", "AI ìë™ ìƒì„± íŒ"]
            },
            {
                "keywords": ['ì ', 'enemy', 'ëª¬ìŠ¤í„°', 'monster', 'ëª¹', 'ë§Œë“¤', 'ìƒì„±', 'ì¶”ê°€', 'ë°©ë²•'],
                "required": ['ì ', 'enemy', 'ëª¬ìŠ¤í„°', 'monster'],
                "answer": "âš”ï¸ **ì (Enemy) ìƒì„± ê°€ì´ë“œ**\n\nì „íˆ¬ íƒ­ì—ì„œ í”Œë ˆì´ì–´ë¥¼ ìœ„í˜‘í•˜ëŠ” ì ì„ ìƒì„±í•©ë‹ˆë‹¤.\n\nâ€¢ **ê¸°ë³¸**: ì´ë¦„, ì¢…ì¡±/ìœ í˜•, ë‚œì´ë„(í•˜~ë³´ìŠ¤)\nâ€¢ **ìŠ¤íƒ¯**: ì²´ë ¥(HP), ê³µê²©ë ¥(ATK)\nâ€¢ **ìƒì„¸**: íŠ¹ì§•/ê³µê²© íŒ¨í„´, ì•½ì , ë“œë ì•„ì´í…œ\n\nìƒì„±ëœ ì ì€ ì „íˆ¬ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ë“±ì¥í•˜ì—¬ ê¸´ì¥ê°ì„ ì¤ë‹ˆë‹¤.",
                "choices": ["NPC ìƒì„± ë°©ë²•", "ì•„ì´í…œ ìƒì„± ë°©ë²•", "ì „íˆ¬ ì‹œìŠ¤í…œ ì•ˆë‚´"]
            },
            {
                "keywords": ['ì•„ì´í…œ', 'item', 'ë¬¼ê±´', 'ë³´ìƒ', 'ë§Œë“¤', 'ìƒì„±', 'ì¶”ê°€', 'ì œì‘', 'ë°©ë²•'],
                "required": ['ì•„ì´í…œ'],
                "answer": "ğŸ’ **ì•„ì´í…œ(Item) ìƒì„± ê°€ì´ë“œ**\n\nì•„ì´í…œ íƒ­ì—ì„œ ë³´ìƒì´ë‚˜ ì¤‘ìš” ë¬¼í’ˆì„ ìƒì„±í•©ë‹ˆë‹¤.\n\nâ€¢ **ì •ë³´**: ì´ë¦„, ìœ í˜•(ë¬´ê¸°/ë°©ì–´êµ¬/ì†Œëª¨í’ˆ ë“±)\nâ€¢ **ìƒì„¸**: íš¨ê³¼/ëŠ¥ë ¥ì¹˜, ì„¤ëª…/ì™¸í˜•\n\nì  ì²˜ì¹˜ ë³´ìƒì´ë‚˜ ì´ë²¤íŠ¸ íšë“ ì•„ì´í…œìœ¼ë¡œ í™œìš©ë©ë‹ˆë‹¤.",
                "choices": ["NPC ìƒì„± ë°©ë²•", "ì  ìƒì„± ë°©ë²•", "ì•„ì´í…œ ì‚¬ìš© ë°©ë²•"]
            },
            {
                "keywords": ['ì”¬', 'scene', 'ì¶”ê°€', 'ìƒì„±', 'ë§Œë“¤', 'ë°©ë²•', 'how', 'ì–´ë–»ê²Œ'],
                "required": ['ì”¬', 'scene'],
                "answer": "ğŸ¬ **Scene(ì¥ë©´) ì¶”ê°€ ë°©ë²•**\n\nìƒˆë¡œìš´ ì¥ë©´ì„ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?\n\n1. ìº”ë²„ìŠ¤ í™”ë©´ì˜ ë¹ˆ ê³µê°„ì„ **ìš°í´ë¦­** í•˜ì„¸ìš”.\n2. ë‚˜íƒ€ë‚˜ëŠ” ë©”ë‰´ì—ì„œ **'Add Scene'**ì„ ì„ íƒí•˜ì„¸ìš”.\n3. ë˜ëŠ” ìƒë‹¨ íˆ´ë°”ì˜ **'+' ë²„íŠ¼**ì„ í´ë¦­í•´ë„ ë©ë‹ˆë‹¤.",
                "choices": ["ì”¬ ë°°ê²½ ì„¤ì •", "ë‚´ìš© AI ì‘ì„±", "ì—”ë”© ì¶”ê°€ ë°©ë²•"]
            },
            {
                "keywords": ['ë°°ê²½', 'background', 'bg', 'ì„¤ì •', 'ë³€ê²½', 'ë°”ê¾¸', 'ì´ë¯¸ì§€', 'ë„£ê¸°'],
                "required": ['ë°°ê²½', 'background'],
                "answer": "ğŸ–¼ï¸ **ì”¬ ë°°ê²½ ì„¤ì • ë°©ë²•**\n\nì¥ë©´ì— ì–´ìš¸ë¦¬ëŠ” ë°°ê²½ì„ ë„£ì–´ë³´ì„¸ìš”!\n\n1. í¸ì§‘í•˜ë ¤ëŠ” **ì”¬ ë…¸ë“œë¥¼ í´ë¦­**í•˜ì—¬ ì—ë””í„°ë¥¼ ì—½ë‹ˆë‹¤.\n2. **'Image / Background'** ì„¹ì…˜ì„ ì°¾ìŠµë‹ˆë‹¤.\n3. ì´ë¯¸ì§€ URLì„ ì§ì ‘ ì…ë ¥í•˜ê±°ë‚˜, **'AI ìƒì„±'** ë²„íŠ¼ìœ¼ë¡œ ì¦‰ì„ì—ì„œ ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "ë‚´ìš© AI ì‘ì„±", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },
            {
                "keywords": ['ë‚´ìš©', 'ì§€ë¬¸', 'text', 'ë³¸ë¬¸', 'ì‘ì„±', 'magic', 'write', 'ìë™', 'ì¨ì¤˜'],
                "required": ['ë‚´ìš©', 'ì§€ë¬¸', 'text', 'ì‘ì„±'],
                "answer": "âœ¨ **ë‚´ìš© AI ì‘ì„± (Magic Write)**\n\nê¸€ì“°ê¸°ê°€ ë§‰ë§‰í•  ë•Œ ì‚¬ìš©í•˜ì„¸ìš”!\n\n1. ì”¬ ì—ë””í„°ì˜ í…ìŠ¤íŠ¸ ì…ë ¥ì°½ ìš°ì¸¡ì— ìˆëŠ” **ë§ˆë²•ë´‰ ì•„ì´ì½˜(ğŸª„)**ì„ í´ë¦­í•©ë‹ˆë‹¤.\n2. 'ì–´ë‘ìš´ ìˆ², ê¸´ì¥ê°' ê°™ì€ **í‚¤ì›Œë“œ**ë‚˜ **ìƒí™©**ì„ ì§§ê²Œ ì…ë ¥í•©ë‹ˆë‹¤.\n3. AIê°€ ê·¸ì— ë§ëŠ” ë©‹ì§„ ë¬˜ì‚¬ë¥¼ ìë™ìœ¼ë¡œ ì‘ì„±í•´ ì¤ë‹ˆë‹¤.",
                "choices": ["ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "AI ë„êµ¬ ì†Œê°œ", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },

            # [ì´ë¯¸ì§€ ìƒì„± ë°©ë²•] (ìš°ì„ ìˆœìœ„ë¥¼ 'ì˜¤ë¥˜'ë³´ë‹¤ ë‚®ê²Œ ì„¤ì •)
            {
                "keywords": ['ì´ë¯¸ì§€', 'ê·¸ë¦¼', 'ì‚½í™”', 'image', 'picture', 'ìƒì„±', 'ë§Œë“¤', 'gen', 'ê·¸ë ¤', 'ë°©ë²•'],
                "required": ['ì´ë¯¸ì§€', 'ê·¸ë¦¼', 'ì‚½í™”'],
                "answer": "ğŸ¨ **AI ì´ë¯¸ì§€ ìƒì„± ê°€ì´ë“œ**\n\n**ìƒì„± ê°€ëŠ¥í•œ ì¢…ë¥˜:** ì”¬ ë°°ê²½, NPC ì´ˆìƒí™”, ì (Enemy) ì´ˆìƒí™”, ì•„ì´í…œ ì•„ì´ì½˜\n\n**ğŸ’¡ íŒ:**\nâ€¢ **êµ¬ì²´ì ì¸ ë¬˜ì‚¬:** \"ìˆ²\"ë³´ë‹¤ëŠ” \"ì•ˆê°œ ë‚€ ì–´ë‘ìš´ ìˆ², ì‹ ë¹„ë¡œìš´ ë¶„ìœ„ê¸°\"ì²˜ëŸ¼ ìì„¸íˆ ì ì–´ì£¼ì„¸ìš”.\nâ€¢ **í† í° ì†Œëª¨:** ì´ë¯¸ì§€ 1ì¥ ìƒì„± ì‹œ ì•½ **2~4 í† í°**ì´ ì†Œëª¨ë©ë‹ˆë‹¤.\n\n**ì‚¬ìš©ë²•:** ì—ë””í„° í•˜ë‹¨ì˜ **'Generate Image'** ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ì›í•˜ëŠ” íƒ€ì…ê³¼ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”!",
                "choices": ["ì´ë¯¸ì§€ ìƒì„± ì˜¤ë¥˜ í•´ê²°", "ì—”ë”© ì¶”ê°€ ë°©ë²•", "ìš”ê¸ˆì œ ì•ˆë‚´"]
            },

            {
                "keywords": ['ì—”ë”©', 'ending', 'ê²°ë§', 'ë', 'finish', 'ë§Œë“¤', 'ì¶”ê°€', 'ë°©ë²•'],
                "required": ['ì—”ë”©', 'ê²°ë§', 'ë'],
                "answer": "ğŸ **Ending(ì—”ë”©) ë§Œë“œëŠ” ë²•**\n\nì´ì•¼ê¸°ì˜ ëì„ ë§Œë“œëŠ” ë°©ë²•ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.\n\n1. ìƒˆë¡œìš´ ì”¬ì„ ì¶”ê°€í•˜ì—¬ ê²°ë§ ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”.\n2. í•´ë‹¹ ì”¬ì—ì„œ **ë‹¤ë¥¸ ì”¬ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ì„ íƒì§€(Choice)ë¥¼ ë§Œë“¤ì§€ ì•Šìœ¼ë©´**, ê²Œì„ ì‹œìŠ¤í…œì´ ì´ë¥¼ ìë™ìœ¼ë¡œ **ì—”ë”©(Ending)**ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤.",
                "choices": ["ì”¬ ì¶”ê°€ ë°©ë²•", "ë‚´ìš© AI ì‘ì„±", "ë¹Œë” ëª¨ë“œ ì´ë™"]
            },
            {
                "keywords": ['ai', 'ë„êµ¬', 'tool', 'ì¸ê³µì§€ëŠ¥', 'ê¸°ëŠ¥', 'ë­ì•¼', 'ë­”ê°€ìš”', 'ì†Œê°œ', 'ì¢…ë¥˜'],
                "required": ['ai', 'ë„êµ¬'],
                "answer": "ğŸ¤– **AI ë³´ì¡° ë„êµ¬ ì†Œê°œ**\n\nTRPG StudioëŠ” ì°½ì‘ìë¥¼ ìœ„í•œ ê°•ë ¥í•œ AI ë„êµ¬ 3ê°€ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n\n1. **NPC ì œë„¤ë ˆì´í„°**: ì„±ê²©/ë°°ê²½/ëŒ€ì‚¬ë¥¼ ìë™ ìƒì„±\n2. **Magic Write**: ì§€ë¬¸/ë‚´ìš© ìë™ ì‘ì„±\n3. **ë¡œì§ ê²€ìˆ˜ê¸°**: ì—°ê²° ì˜¤ë¥˜ ìë™ ë¶„ì„\n\në¹Œë” ëª¨ë“œì—ì„œ ì´ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•´ ë³´ì„¸ìš”!",
                "choices": ["ë‚´ìš© AI ì‘ì„±", "ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ê³µê°œ', 'ê³µìœ ', 'publish', 'ë°°í¬', 'ë‹¤ë¥¸', 'ì‚¬ëŒ'],
                "required": ['ê³µê°œ', 'ê³µìœ ', 'ë°°í¬'],
                "answer": "ğŸŒ **ì‹œë‚˜ë¦¬ì˜¤ ê³µê°œ (Publish)**\n\nì™„ì„±ëœ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n1. ë¹Œë” ëª¨ë“œ ìƒë‹¨ì˜ **'Publish'** ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.\n2. ê³µê°œ ì„¤ì •ì´ ì™„ë£Œë˜ë©´, ë©”ì¸ í™”ë©´ì˜ ë¦¬ìŠ¤íŠ¸ì— ë‚´ ì‹œë‚˜ë¦¬ì˜¤ê°€ ë“±ë¡ë˜ì–´ ëˆ„êµ¬ë‚˜ í”Œë ˆì´í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.",
                "choices": ["ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ë¹Œë” ëª¨ë“œ ì´ë™", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë¶€ì ì ˆ', 'ìš•', 'ìš•ì„¤', 'ì•¼í•œ', 'ì„ ì •', '19ê¸ˆ', 'ì…ë ¥', 'í•„í„°'],
                "required": ['ë¶€ì ì ˆ', 'ìš•', 'ìš•ì„¤', 'ì„ ì •', 'ì…ë ¥'],
                "answer": "ğŸš« **ë¶€ì ì ˆí•œ ë‚´ìš© ê°ì§€ ë° ì œì¬ ì•ˆë‚´**\n\nAIëŠ” ìš•ì„¤, í˜ì˜¤ í‘œí˜„, ì„ ì •ì ì¸ ë‚´ìš© ë“± ë¶€ì ì ˆí•œ ì…ë ¥ì„ ìë™ìœ¼ë¡œ í•„í„°ë§í•©ë‹ˆë‹¤.\n\nì´ëŸ¬í•œ ë‚´ìš©ì´ ë°˜ë³µì ìœ¼ë¡œ ì…ë ¥ë  ê²½ìš°, **AI ì‘ë‹µì´ ê±°ë¶€ë˜ê±°ë‚˜ ê³„ì • ì´ìš©ì´ ì œí•œ**ë  ìˆ˜ ìˆìœ¼ë‹ˆ ê±´ì „í•œ í”Œë ˆì´ë¥¼ ë¶€íƒë“œë¦½ë‹ˆë‹¤.",
                "choices": ["ê²Œì„ í”Œë ˆì´ ë°©ë²•", "ë¬¸ì˜í•˜ê¸°", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ì—‰ëš±', 'ì´ìƒ', 'ë§', 'ëª»', 'ì•Œì•„', 'ëŒ€ë‹µ', 'ë‹µë³€', 'ë°”ë³´'],
                "required": ['ì—‰ëš±', 'ì´ìƒ', 'ëª»', 'ì•Œì•„', 'ë‹µë³€'],
                "answer": "ğŸ¤” **AIê°€ ì—‰ëš±í•œ ëŒ€ë‹µì„ í•˜ë‚˜ìš”?**\n\nê·¸ëŸ´ ë• ì´ë ‡ê²Œ í•´ë³´ì„¸ìš”!\n\n1. **ì§ˆë¬¸ì„ êµ¬ì²´ì ìœ¼ë¡œ** ë‹¤ì‹œ ì…ë ¥í•´ ë³´ì„¸ìš”. (ì˜ˆ: \"ê³µê²©í•´\" -> \"ê²€ìœ¼ë¡œ ì ì„ ê³µê²©í•œë‹¤\")\n2. **ìƒˆë¡œê³ ì¹¨** í›„ ë‹¤ì‹œ ì‹œë„í•´ ë³´ì„¸ìš”.\n3. ì—¬ì „íˆ ë¬¸ì œê°€ ìˆë‹¤ë©´ **ë¬¸ì˜í•˜ê¸°**ë¥¼ í†µí•´ ì œë³´í•´ ì£¼ì„¸ìš”.",
                "choices": ["ê²Œì„ í”Œë ˆì´ ë°©ë²•", "ë¬¸ì˜í•˜ê¸°", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ì´ë¯¸ì§€', 'ìƒì„±', 'ë¬´ì œí•œ', 'ì œí•œ', 'íšŸìˆ˜', 'ê°œìˆ˜'],
                "required": ['ì´ë¯¸ì§€', 'ë¬´ì œí•œ', 'ì œí•œ', 'íšŸìˆ˜'],
                "answer": "ğŸ¨ **AI ì´ë¯¸ì§€ ìƒì„± ì œí•œ ì•ˆë‚´**\n\nAI ì´ë¯¸ì§€ ìƒì„±ì€ ì„œë²„ ë¹„ìš© ë¬¸ì œë¡œ ì¸í•´ **íšŸìˆ˜ ì œí•œ**ì´ ìˆìŠµë‹ˆë‹¤.\n\nâ€¢ **Free**: ì›” 10ì¥\nâ€¢ **Pro/Biz**: ì›” 50ì¥ ì´ìƒ (ìš”ê¸ˆì œë³„ ìƒì´)\n\ní† í°ì„ ëª¨ë‘ ì†Œì§„í•˜ë©´ ë‹¤ìŒ ë‹¬ 1ì¼ì— ì´ˆê¸°í™”ë©ë‹ˆë‹¤.",
                "choices": ["ìš”ê¸ˆì œ ì•ˆë‚´", "ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë§Œë“¤ë‹¤', 'ì¤‘ë‹¨', 'ì–´ë””', 'ì„ì‹œ', 'ë³´ê´€', 'ë‹¤ì‹œ', 'ì´ì–´ì„œ'],
                "required": ['ë§Œë“¤ë‹¤', 'ì¤‘ë‹¨', 'ì–´ë””', 'ì„ì‹œ', 'ë‹¤ì‹œ'],
                "answer": "ğŸ“‚ **ì‘ì„± ì¤‘ì¸ ì‹œë‚˜ë¦¬ì˜¤ ì°¾ê¸°**\n\në§Œë“¤ë‹¤ ë§Œ ì‹œë‚˜ë¦¬ì˜¤ëŠ” **ë§ˆì´í˜ì´ì§€ > ë‚´ ì‹œë‚˜ë¦¬ì˜¤** íƒ­ì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\n\n'ì‘ì„± ì¤‘(Draft)' ìƒíƒœì¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í´ë¦­í•˜ë©´ ë§ˆì§€ë§‰ ì‘ì—… ë‚´ìš©ì„ ë¶ˆëŸ¬ì™€ ì´ì–´ì„œ ì œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ìë™', 'ì €ì¥', 'ì‘ì„±', 'ì¤‘', 'ë‚ ì•„', 'ë°±ì—…'],
                "required": ['ìë™', 'ì €ì¥', 'ì‘ì„±'],
                "answer": "ğŸ’¾ **ìë™ ì €ì¥ (Draft Service)**\n\nì•ˆì‹¬í•˜ì„¸ìš”! ì‘ì„± ì¤‘ì¸ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ì‹œìŠ¤í…œì— ì˜í•´ ì£¼ê¸°ì ìœ¼ë¡œ **ìë™ ì„ì‹œ ì €ì¥**ë©ë‹ˆë‹¤.\n\ní˜¹ì‹œ ë¸Œë¼ìš°ì €ê°€ êº¼ì§€ë”ë¼ë„, ë‹¤ì‹œ ì ‘ì†í•˜ì—¬ **'ë‚´ ì‹œë‚˜ë¦¬ì˜¤'**ì—ì„œ ì´ì–´ì„œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ë§Œë“¤ë‹¤ ë§Œ ì‹œë‚˜ë¦¬ì˜¤ ì°¾ê¸°", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['pc', 'ì´ë¯¸ì§€', 'ì—…ë¡œë“œ', 'ì‚¬ì§„', 'ë‚´', 'ì»´í“¨í„°', 'íŒŒì¼'],
                "required": ['ì´ë¯¸ì§€', 'ì—…ë¡œë“œ', 'ì‚¬ì§„', 'íŒŒì¼'],
                "answer": "ğŸ“¤ **ì´ë¯¸ì§€ ì—…ë¡œë“œ ì•ˆë‚´**\n\ní˜„ì¬ ë²„ì „ì—ì„œëŠ” **AI ìƒì„± ì´ë¯¸ì§€**ì™€ **ì™¸ë¶€ ì´ë¯¸ì§€ URL** ì…ë ¥ë§Œ ì§€ì›í•©ë‹ˆë‹¤.\n\nPCì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ì—…ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤. ë¶ˆí¸ì„ ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤.",
                "choices": ["ì´ë¯¸ì§€ ìƒì„± ë°©ë²•", "ë¬¸ì˜í•˜ê¸°", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë‹¤ë¥¸', 'ì‚¬ëŒ', 'ì‹œë‚˜ë¦¬ì˜¤', 'ë³µì‚¬', 'ìˆ˜ì •', 'ë¦¬ë¯¹ìŠ¤', 'ê°€ì ¸'],
                "required": ['ë‹¤ë¥¸', 'ì‚¬ëŒ', 'ë³µì‚¬', 'ìˆ˜ì •'],
                "answer": "ğŸ“‘ **íƒ€ì¸ ì‹œë‚˜ë¦¬ì˜¤ ìˆ˜ì • (ë¦¬ë¯¹ìŠ¤) ì•ˆë‚´**\n\në‹¤ë¥¸ ì‚¬ëŒì˜ ê³µê°œ ì‹œë‚˜ë¦¬ì˜¤ëŠ” **í”Œë ˆì´ë§Œ ê°€ëŠ¥**í•˜ë©°, ë‚´ìš©ì„ ì§ì ‘ ìˆ˜ì •í•˜ê±°ë‚˜ ë³µì‚¬í•´ì˜¤ëŠ” ê¸°ëŠ¥(ë¦¬ë¯¹ìŠ¤)ì€ ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\në‹¨, ì œì‘ìê°€ ê³µìœ í•œ **í”„ë¦¬ì…‹(JSON) íŒŒì¼**ì´ ìˆë‹¤ë©´ 'í”„ë¦¬ì…‹ ë¡œë“œ'ë¥¼ í†µí•´ ë‚´ ìº”ë²„ìŠ¤ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["í”„ë¦¬ì…‹ ë¡œë“œê°€ ë­”ê°€ìš”?", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['í† í°', 'token', 'ë‹¤', 'ì“°ë©´', 'ë¶€ì¡±', 'ì‚¬ìš©ëŸ‰'],
                "required": ['í† í°', 'token', 'ì“°ë©´', 'ë¶€ì¡±'],
                "answer": "ğŸª™ **í† í°(Token) ì‹œìŠ¤í…œ ì•ˆë‚´**\n\nAIì™€ì˜ ëŒ€í™” ë° ì´ë¯¸ì§€ ìƒì„±ì—ëŠ” 'í† í°'ì´ ì†Œëª¨ë©ë‹ˆë‹¤.\n\nâ€¢ **Free**: ë§¤ì¼ ì¼ì •ëŸ‰ ë¬´ë£Œ ì œê³µ\nâ€¢ **Pro/Biz**: ëŒ€ìš©ëŸ‰ í† í° ì œê³µ\n\ní† í°ì´ ë‹¤ ë–¨ì–´ì§€ë©´ AI ì‘ë‹µì´ ë©ˆì¶œ ìˆ˜ ìˆìœ¼ë©°, ë‹¤ìŒ ë‚  ì¶©ì „ë˜ê±°ë‚˜ ìƒìœ„ ìš”ê¸ˆì œë¡œ ì—…ê·¸ë ˆì´ë“œí•´ì•¼ í•©ë‹ˆë‹¤.",
                "choices": ["ìš”ê¸ˆì œ ì•ˆë‚´", "ë§ˆì´í˜ì´ì§€ í™•ì¸", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë¡œê·¸', 'ê¸°ë¡', 'ë‹¤ìš´', 'ë‹¤ìš´ë¡œë“œ', 'í…ìŠ¤íŠ¸', 'íŒŒì¼', 'ì €ì¥'],
                "required": ['ë¡œê·¸', 'ê¸°ë¡', 'ë‹¤ìš´', 'íŒŒì¼'],
                "answer": "ğŸ“œ **í”Œë ˆì´ ë¡œê·¸ ë‹¤ìš´ë¡œë“œ**\n\ní˜„ì¬ í”Œë ˆì´ ë¡œê·¸ë¥¼ í…ìŠ¤íŠ¸ íŒŒì¼(.txt)ë¡œ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì— ìˆìŠµë‹ˆë‹¤.\n\nì§€ê¸ˆì€ í™”ë©´ì„ ìŠ¤í¬ë¡¤í•˜ì—¬ ì§€ë‚œ ëŒ€í™”ë¥¼ í™•ì¸í•˜ê±°ë‚˜, ë‚´ìš©ì„ ì§ì ‘ ë³µì‚¬í•˜ì—¬ ì €ì¥í•´ ì£¼ì„¸ìš”.",
                "choices": ["ì´ì „ ëŒ€í™” ë³´ê¸°", "ê²Œì„ ì €ì¥ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë™ì‹œ', 'ì—¬ëŸ¬', 'ê°œ', 'ê²Œì„', 'ì§„í–‰', 'ì„¸ì…˜', 'ë©€í‹°'],
                "required": ['ë™ì‹œ', 'ì—¬ëŸ¬', 'ê²Œì„', 'ì„¸ì…˜'],
                "answer": "ğŸ® **ë™ì‹œ ê²Œì„ ì§„í–‰ ì•ˆë‚´**\n\ní˜„ì¬ í•˜ë‚˜ì˜ ê³„ì •ìœ¼ë¡œëŠ” **í•œ ë²ˆì— í•˜ë‚˜ì˜ ê²Œì„**ë§Œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ë¥¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í”Œë ˆì´í•˜ë ¤ë©´ í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ê²Œì„ì„ ì¢…ë£Œí•˜ê±°ë‚˜ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.",
                "choices": ["ê²Œì„ ì €ì¥ ë°©ë²•", "ê²Œì„ í”Œë ˆì´ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },

            # 3. ìš”ê¸ˆì œ, ê³„ì •, ë¬¸ì˜
            {
                # 'ë¡œê·¸' í‚¤ì›Œë“œ ì¶”ê°€ -> "ë¡œê·¸ì¸" ì§ˆë¬¸ ì‹œ 'ë¡œê·¸ì¸'(1ì )+'ë¡œê·¸'(1ì ) = 2ì ìœ¼ë¡œ 'í”Œë ˆì´ ë¡œê·¸'(1ì )ë¥¼ ì´ê¹€
                "keywords": ['ê°€ì…', 'ë¡œê·¸ì¸', 'register', 'sign', 'ì‹œì‘', 'ì²˜ìŒ', 'start', 'ë¡œê·¸'],
                "required": ['ê°€ì…', 'ë¡œê·¸ì¸', 'ì‹œì‘', 'ì²˜ìŒ'],
                "answer": "ğŸ‘‹ **TRPG Studio ì‹œì‘í•˜ê¸°**\n\ní™˜ì˜í•©ë‹ˆë‹¤! ìš°ì¸¡ ìƒë‹¨ì˜ **'LOGIN'** ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”.\n\nêµ¬ê¸€, ì¹´ì¹´ì˜¤, ë„¤ì´ë²„ ê³„ì •ìœ¼ë¡œ **ê°„í¸í•˜ê²Œ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸**í•˜ì—¬ ë°”ë¡œ ëª¨í—˜ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ê²Œì„ í”Œë ˆì´ ë°©ë²•", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ìš”ê¸ˆì œ ì•ˆë‚´"]
            },
            {
                "keywords": ['ë¹„ë²ˆ', 'ë¹„ë°€ë²ˆí˜¸', 'password', 'ë³€ê²½', 'ì°¾ê¸°', 'ë¶„ì‹¤', 'ê¹Œë¨¹'],
                "required": ['ë¹„ë²ˆ', 'ë¹„ë°€ë²ˆí˜¸', 'password'],
                "answer": "ğŸ” **ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬**\n\nì†Œì…œ ë¡œê·¸ì¸(êµ¬ê¸€/ì¹´ì¹´ì˜¤/ë„¤ì´ë²„)ì„ ì´ìš©í•˜ì‹œëŠ” ê²½ìš°, í•´ë‹¹ ì†Œì…œ ì„œë¹„ìŠ¤ì—ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê´€ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.\n\nì´ë©”ì¼ë¡œ ê°€ì…í•˜ì‹  ê²½ìš°, **ë§ˆì´í˜ì´ì§€ > í”„ë¡œí•„ ìˆ˜ì •**ì—ì„œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™", "ë¡œê·¸ì¸ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                # 'íšŒì›' í‚¤ì›Œë“œ ì¶”ê°€ -> "íšŒì› íƒˆí‡´" ì§ˆë¬¸ ì‹œ ì ìˆ˜ 2ì  í™•ë³´
                "keywords": ['íƒˆí‡´', 'ì‚­ì œ', 'delete', 'withdraw', 'ê·¸ë§Œ', 'íšŒì›'],
                "required": ['íƒˆí‡´', 'ì‚­ì œ', 'ê·¸ë§Œ'],
                "answer": "ğŸ˜¢ **íšŒì› íƒˆí‡´ ì•ˆë‚´**\n\në– ë‚˜ì‹ ë‹¤ë‹ˆ ì•„ì‰½ìŠµë‹ˆë‹¤.\n\níšŒì› íƒˆí‡´ëŠ” **ë§ˆì´í˜ì´ì§€ > í”„ë¡œí•„ ìˆ˜ì •** ë©”ë‰´ í•˜ë‹¨ì˜ **'íšŒì› íƒˆí‡´'** ë²„íŠ¼ì„ í†µí•´ ì§„í–‰í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\níƒˆí‡´ ì‹œ ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ì™€ ë°ì´í„°ê°€ ì‚­ì œë˜ë‹ˆ ì‹ ì¤‘í•˜ê²Œ ê²°ì •í•´ ì£¼ì„¸ìš”.",
                "choices": ["ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™", "ë¬¸ì˜í•˜ê¸°", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë¬´ë£Œ', 'free', 'ê¸°ëŠ¥', 'adventurer', 'ê³µì§œ', 'ëª‡ê°œ', 'ì œí•œ'],
                "required": ['ë¬´ë£Œ', 'free', 'ê³µì§œ'],
                "answer": "ğŸ’ **Adventurer (Free) í”Œëœ ì•ˆë‚´**\n\në¬´ë£Œ íšŒì›ë„ ì¶©ë¶„íˆ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤!\n\nâœ… **ì œê³µ ê¸°ëŠ¥**\nâ€¢ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±: ìµœëŒ€ **3ê°œ**\nâ€¢ ê¸°ë³¸ AI ëª¨ë¸(GPT-3.5) ë¬´ì œí•œ ì‚¬ìš©\nâ€¢ ë‹¤ë¥¸ ìœ ì €ì˜ ê³µê°œ ì‹œë‚˜ë¦¬ì˜¤ **ë¬´ì œí•œ í”Œë ˆì´**\nâ€¢ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ ì´ìš© ê°€ëŠ¥\n\në¶€ë‹´ ì—†ì´ ëª¨í—˜ì„ ì‹œì‘í•´ ë³´ì„¸ìš”!",
                "choices": ["ìš”ê¸ˆì œ ì•ˆë‚´", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ìš”ê¸ˆ', 'ê°€ê²©', 'ë¹„ìš©', 'ê²°ì œ', 'plan', 'êµ¬ë…', 'ì–¼ë§ˆ', 'ìœ ë£Œ', 'ì•ˆë‚´'],
                "required": ['ìš”ê¸ˆ', 'ê°€ê²©', 'ë¹„ìš©', 'ê²°ì œ', 'plan', 'êµ¬ë…', 'ì–¼ë§ˆ', 'ìœ ë£Œ'],
                "answer": "ğŸ’³ **ìš”ê¸ˆì œ ì•ˆë‚´**\n\nëª¨í—˜ê°€ë‹˜ì˜ ìŠ¤íƒ€ì¼ì— ë§ëŠ” í”Œëœì„ ì„ íƒí•˜ì„¸ìš”!\n\nğŸ”¹ **Adventurer (Free)**: ë¬´ë£Œ, ì‹œë‚˜ë¦¬ì˜¤ 3ê°œ\nğŸ”¹ **Dungeon Master (9,900ì›/ì›”)**: ë¬´ì œí•œ ìƒì„±, GPT-4, ì´ë¯¸ì§€ 50íšŒ\nğŸ”¹ **World Creator (29,900ì›/ì›”)**: ëª¨ë“  ê¸°ëŠ¥ + ì „ìš© íŒŒì¸íŠœë‹ ëª¨ë¸\n\nìì„¸í•œ ë‚´ìš©ì€ **ë§ˆì´í˜ì´ì§€**ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
                "choices": ["ë¬´ë£Œ ê¸°ëŠ¥ ë” ë³´ê¸°", "ë§ˆì´í˜ì´ì§€ë¡œ ì´ë™", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë¬¸ì˜', 'contact', 'support', 'ì§ˆë¬¸', 'help', 'ë²„ê·¸', 'ì‹ ê³ ', 'ì˜¤ë¥˜', 'ê°œë°œì'],
                "required": ['ë¬¸ì˜', 'contact', 'ë²„ê·¸', 'ì‹ ê³ ', 'ì˜¤ë¥˜', 'ê°œë°œì'],
                "answer": "ğŸ“¬ **ë¬¸ì˜í•˜ê¸° ë° ë²„ê·¸ ì‹ ê³ **\n\nì„œë¹„ìŠ¤ ì´ìš© ì¤‘ ë¶ˆí¸í•œ ì ì´ë‚˜ ë²„ê·¸ë¥¼ ë°œê²¬í•˜ì…¨ë‚˜ìš”?\n\ní˜„ì¬ëŠ” ë² íƒ€ í…ŒìŠ¤íŠ¸ ê¸°ê°„ìœ¼ë¡œ, **ì»¤ë®¤ë‹ˆí‹°(ë””ìŠ¤ì½”ë“œ/ê²Œì‹œíŒ)**ë¥¼ í†µí•´ ê°œë°œìì—ê²Œ ì§ì ‘ ë¬¸ì˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹ ë¥¸ ì‹œì¼ ë‚´ì— 1:1 ë¬¸ì˜ ê¸°ëŠ¥ì„ ì œê³µí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤!",
                "choices": ["í”Œë ˆì´ ë°©ë²•", "ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ì²˜ìŒìœ¼ë¡œ"]
            },

            # 4. í”Œë ˆì´ / ì¸ê²Œì„ (íŒíŠ¸ ë“±)
            {
                "keywords": ['ê²Œì„', 'í”Œë ˆì´', 'ì‹œì‘', 'ë°©ë²•', 'play', 'game', 'how'],
                "required": ['ê²Œì„', 'í”Œë ˆì´'],
                "answer": "ğŸ® **ê²Œì„ í”Œë ˆì´ ë°©ë²•**\n\nTRPG Studioì—ì„œëŠ” AI ê²Œì„ë§ˆìŠ¤í„°ì™€ í•¨ê»˜ ììœ ë¡œìš´ ëª¨í—˜ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n1. ë©”ì¸ í™”ë©´ì—ì„œ ì›í•˜ëŠ” **ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì„ íƒ**í•˜ì„¸ìš”.\n2. **'PLAY'** ë²„íŠ¼ì„ ëˆŒëŸ¬ ê²Œì„ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n3. ìƒí™©ì— ë§ëŠ” **í–‰ë™ì´ë‚˜ ëŒ€ì‚¬**ë¥¼ ì…ë ¥í•˜ë©´ ìŠ¤í† ë¦¬ê°€ ì§„í–‰ë©ë‹ˆë‹¤.",
                "choices": ["ì „íˆ¬ëŠ” ì–´ë–»ê²Œ í•´ìš”?", "ì•„ì´í…œ ì‚¬ìš©ë²•", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”"]
            },
            {
                "keywords": ['ëª¨ë°”ì¼', 'í°', 'ìŠ¤ë§ˆíŠ¸í°', 'mobile', 'phone'],
                "required": ['ëª¨ë°”ì¼', 'í°'],
                "answer": "ğŸ“± **ëª¨ë°”ì¼ í”Œë ˆì´ ì§€ì›**\n\në„¤! TRPG StudioëŠ” ëª¨ë°”ì¼ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œë„ í”Œë ˆì´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\në‹¤ë§Œ, **ì‹œë‚˜ë¦¬ì˜¤ ì œì‘(ë¹Œë” ëª¨ë“œ)**ì€ í™”ë©´ì´ ë„“ì€ PC í™˜ê²½ì—ì„œ í•˜ì‹œëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.",
                "choices": ["ê²Œì„ í”Œë ˆì´ ë°©ë²•", "PC ê¶Œì¥ ì‚¬ì–‘", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ë§‰í˜”', 'íŒíŠ¸', 'hint', 'ëª¨ë¥´ê² ', 'ë„ì›€', 'í•„ìš”', 'ì–´ë–¡', 'ë°©ë²•'],
                "required": ['ë§‰í˜”', 'íŒíŠ¸', 'hint', 'ëª¨ë¥´ê² ', 'ë„ì›€'],
                "answer": "ğŸ’¡ **íŒíŠ¸ê°€ í•„ìš”í•˜ì‹ ê°€ìš”?**\n\nì§„í–‰ì´ ë§‰ë§‰í•  ë• ì´ë ‡ê²Œ í•´ë³´ì„¸ìš”:\n\n1. **\"ì£¼ë³€ì„ ìì„¸íˆ ì‚´í´ë³¸ë‹¤\"**ë¼ê³  ì…ë ¥í•˜ê¸°\n2. **\"ê°€ë°©ì— ì“¸ë§Œí•œ ê²Œ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤\"**ë¼ê³  ì…ë ¥í•˜ê¸°\n3. **\"GM, íŒíŠ¸ ì¢€ ì¤˜!\"**ë¼ê³  ì±„íŒ…ì°½ì— ì§ì ‘ ë¬¼ì–´ë³´ê¸°\n\nAI ê²Œì„ë§ˆìŠ¤í„°ê°€ ìƒí™©ì— ë§ëŠ” ì¡°ì–¸ì„ í•´ì¤„ ê±°ì˜ˆìš”!",
                "choices": ["ì „íˆ¬ëŠ” ì–´ë–»ê²Œ í•´ìš”?", "ì•„ì´í…œ ì‚¬ìš©ë²•", "ì´ì „ ëŒ€í™” ë³´ê¸°"]
            },
            {
                "keywords": ['ì•„ì´í…œ', 'item', 'ì‚¬ìš©', 'ì“°ëŠ”', 'ë¨¹ëŠ”', 'ë°©ë²•', 'ì–´ë–»ê²Œ'],
                "required": ['ì•„ì´í…œ', 'ì‚¬ìš©'],
                "answer": "ğŸ’ **ì•„ì´í…œ ì‚¬ìš© ë°©ë²•**\n\nê°€ì§€ê³  ìˆëŠ” ì•„ì´í…œì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ í–‰ë™ìœ¼ë¡œ ì ì–´ì£¼ì„¸ìš”.\n\nì˜ˆì‹œ:\nâ€¢ \"ê°€ë°©ì—ì„œ í¬ì…˜ì„ êº¼ë‚´ ë§ˆì‹ ë‹¤.\"\nâ€¢ \"íšë“í•œ ì—´ì‡ ë¡œ ë¬¸ì„ ì—°ë‹¤.\"\n\ní˜„ì¬ ì†Œì§€í’ˆì€ í™”ë©´ì˜ **Inventory(ê°€ë°©)** íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ì¸ë²¤í† ë¦¬ í™•ì¸", "ì „íˆ¬ ë°©ë²•", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”"]
            },
            {
                "keywords": ['ì¸ë²¤í† ë¦¬', 'inventory', 'ê°€ë°©', 'ì†Œì§€í’ˆ', 'í™•ì¸', 'ì—´ê¸°'],
                "required": ['ì¸ë²¤í† ë¦¬', 'inventory', 'ê°€ë°©', 'ì†Œì§€í’ˆ'],
                "answer": "ğŸ’ **ì¸ë²¤í† ë¦¬ í™•ì¸ ë°©ë²•**\n\ní˜„ì¬ ë³´ìœ  ì¤‘ì¸ ì•„ì´í…œì€ í™”ë©´ì˜ **Inventory(ê°€ë°©)** íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì•„ì´í…œì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ëŒ€í™”ì°½ì— \"(ì•„ì´í…œ ì´ë¦„)ì„ ì‚¬ìš©í•œë‹¤\"ê³  ì…ë ¥í•´ ì£¼ì„¸ìš”.",
                "choices": ["ì•„ì´í…œ ì‚¬ìš© ë°©ë²•", "ì•„ì´í…œ ìƒì„± ë°©ë²•", "ì „íˆ¬ ë°©ë²•"]
            },
            {
                "keywords": ['ì´ì „', 'ëŒ€í™”', 'ë¡œê·¸', 'log', 'ê¸°ë¡', 'ì§€ë‚œ', 'ë³´ê¸°', 'í™•ì¸'],
                "required": ['ì´ì „', 'ëŒ€í™”', 'ë¡œê·¸', 'ê¸°ë¡'],
                "answer": "ğŸ“œ **ì´ì „ ëŒ€í™”(ë¡œê·¸) í™•ì¸ ë°©ë²•**\n\nì§€ë‚˜ê°„ ì´ì•¼ê¸°ë‚˜ GMì˜ ë¬˜ì‚¬ë¥¼ ë‹¤ì‹œ ë³´ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?\n\nì±„íŒ…ì°½ í™”ë©´ì„ **ë§ˆìš°ìŠ¤ íœ ì´ë‚˜ í„°ì¹˜ë¡œ ìœ„ë¡œ ìŠ¤í¬ë¡¤**í•´ ë³´ì„¸ìš”.\nì´ì „ ëŒ€í™” ë‚´ìš©ë“¤ì´ ì‚¬ë¼ì§€ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ì €ì¥ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ì €ì¥', 'ì„¸ì´ë¸Œ', 'save', 'ìë™'],
                "required": ['ì €ì¥', 'ì„¸ì´ë¸Œ', 'save'],
                "answer": "ğŸ’¾ **ê²Œì„ ì €ì¥ ì•ˆë‚´**\n\nTRPG StudioëŠ” **ìë™ ì €ì¥(Auto Save)** ì‹œìŠ¤í…œì„ ì§€ì›í•©ë‹ˆë‹¤.\n\ní”Œë ˆì´ì–´ê°€ í–‰ë™ì„ ì…ë ¥í•˜ê³  AIê°€ ë‹µë³€í•  ë•Œë§ˆë‹¤ í„´ ë‹¨ìœ„ë¡œ ì„œë²„ì— ì €ì¥ë˜ë¯€ë¡œ, ì–¸ì œë“  ì¢…ë£Œí•˜ì…”ë„ ë‚˜ì¤‘ì— ì´ì–´ì„œ í”Œë ˆì´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "choices": ["ì´ì „ ëŒ€í™” ë³´ê¸°", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”", "ì²˜ìŒìœ¼ë¡œ"]
            },
            {
                "keywords": ['ì „íˆ¬', 'ê³µê²©', 'ì‹¸ì›€', 'attack', 'fight', 'ì£½ì´', 'ë°©ë²•', 'í•˜ë‚˜ìš”'],
                "required": ['ì „íˆ¬', 'ê³µê²©', 'ì‹¸ì›€'],
                "answer": "âš”ï¸ **ì „íˆ¬ ë° ê³µê²© ë°©ë²•**\n\nì ì„ ë§Œë‚¬ë‹¤ë©´ ê³µê²© ë°©ì‹ì„ **í–‰ë™ìœ¼ë¡œ ë¬˜ì‚¬**í•˜ì„¸ìš”.\n\nì˜ˆì‹œ:\nâ€¢ \"ë“¤ê³  ìˆëŠ” ê²€ì„ íœ˜ë‘˜ëŸ¬ ì ì„ ê³µê²©í•œë‹¤.\"\nâ€¢ \"í™”ì—¼êµ¬ ì£¼ë¬¸ì„ ì™¸ì›Œ ì ì—ê²Œ ë‚ ë¦°ë‹¤.\"\n\ní”Œë ˆì´ì–´ì˜ í–‰ë™ -> AIì˜ íŒì •(ëª…ì¤‘ ì—¬ë¶€) -> ì ì˜ ë°˜ê²© ìˆœì„œë¡œ í„´ì´ ì§„í–‰ë©ë‹ˆë‹¤.",
                "choices": ["ë„ë§ì¹  ìˆ˜ ìˆë‚˜ìš”?", "ì£¼ì‚¬ìœ„ êµ´ë¦¬ëŠ” ë²•", "ì•„ì´í…œ ì‚¬ìš©ë²•"]
            },
            {
                "keywords": ['ë„ë§', 'run', 'escape', 'í”¼í•˜', 'íšŒí”¼', 'ì‚´ë ¤', 'ë°©ë²•'],
                "required": ['ë„ë§', 'í”¼í•˜', 'íšŒí”¼'],
                "answer": "ğŸƒ **ë„ë§ì¹˜ê¸°**\n\nìœ„í—˜í•œ ìƒí™©ì¸ê°€ìš”?\n\n**\"ë’¤ë„ ëŒì•„ë³´ì§€ ì•Šê³  ì „ë ¥ ì§ˆì£¼í•´ ë„ë§ì¹œë‹¤\"** ë˜ëŠ” **\"ì—°ë§‰íƒ„ì„ ë¿Œë¦¬ê³  ìˆ¨ëŠ”ë‹¤\"** ì²˜ëŸ¼ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•´ ë³´ì„¸ìš”.\nAIê°€ ìƒí™©ê³¼ ë¯¼ì²©ì„±ì„ ê³ ë ¤í•´ ì„±ê³µ ì—¬ë¶€ë¥¼ íŒì •í•´ ì¤„ ê²ƒì…ë‹ˆë‹¤.",
                "choices": ["ì „íˆ¬ëŠ” ì–´ë–»ê²Œ í•´ìš”?", "ì•„ì´í…œ ì‚¬ìš©ë²•"]
            },
            {
                "keywords": ['ì£¼ì‚¬ìœ„', 'ë‹¤ì´ìŠ¤', 'dice', 'êµ´ë¦¬', 'íŒì •', 'rule', 'ë£°', 'ì„±ê³µ', 'ë°©ë²•'],
                "required": ['ì£¼ì‚¬ìœ„', 'ë‹¤ì´ìŠ¤', 'íŒì •'],
                "answer": "ğŸ² **í–‰ë™ íŒì • ì•ˆë‚´**\n\nTRPG StudioëŠ” **ìë™ íŒì • ì‹œìŠ¤í…œ**ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\në”°ë¡œ ì£¼ì‚¬ìœ„ ë²„íŠ¼ì„ ëˆ„ë¥¼ í•„ìš” ì—†ì´, **\"ë¬¸ì„ ë°œë¡œ ì°¹ë‹ˆë‹¤\"** ë˜ëŠ” **\"ê³ ë¸”ë¦°ì„ ê²€ìœ¼ë¡œ ì°Œë¥¸ë‹¤\"** ê°™ì´ í–‰ë™ì„ ê¸€ë¡œ ì ìœ¼ì„¸ìš”.\nAI GMì´ ìƒí™©ì— ë§ì¶° ìë™ìœ¼ë¡œ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦¬ê³  ê²°ê³¼ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤!",
                "choices": ["ì „íˆ¬ëŠ” ì–´ë–»ê²Œ í•´ìš”?", "ì•„ì´í…œ ì‚¬ìš©ë²•", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”"]
            },
            {
                "keywords": ['ì „ì²´', 'ì”¬', 'ë³´ê¸°', 'êµ¬ì¡°', 'map', 'ì§€ë„', 'ë””ë²„ê·¸', 'debug', 'ë²„ê·¸', 'ì‹œê°í™”', 'ë²Œë ˆ', 'ì•„ì´ì½˜'],
                "required": ['ì „ì²´', 'ë””ë²„ê·¸', 'debug', 'ì‹œê°í™”', 'ë²Œë ˆ', 'ì•„ì´ì½˜'],
                "answer": "ğŸ—ºï¸ **ì „ì²´ ì”¬(êµ¬ì¡°) ë³´ê¸° ë° ë””ë²„ê·¸**\n\ní™”ë©´ ìš°ì¸¡ í•˜ë‹¨ì˜ **ë²Œë ˆ ì•„ì´ì½˜(ğŸ›)**ì€ **ë””ë²„ê·¸ ëª¨ë“œ(Scene Visualizer)**ì…ë‹ˆë‹¤.\n\ní´ë¦­í•˜ë©´ í˜„ì¬ ì‹œë‚˜ë¦¬ì˜¤ì˜ ì „ì²´ ë…¸ë“œ êµ¬ì¡°ì™€ ì§„í–‰ ìƒí™©ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (PC í™˜ê²½ ê¶Œì¥)",
                "choices": ["í”Œë ˆì´ ë°©ë²•", "ë¬¸ì˜í•˜ê¸°", "íŒíŠ¸ê°€ í•„ìš”í•´ìš”"]
            },

            # 5. ì¼ë°˜ / ê¸°íƒ€ (ìš°ì„ ìˆœìœ„ ë‚®ìŒ)
            {
                # [ìˆ˜ì •] 'ì–´ë–»ê²Œ', 'ë§Œë“œ' í‚¤ì›Œë“œ ì¶”ê°€ (ì§ˆë¬¸ ì˜ë„ íŒŒì•… ê°•í™”)
                "keywords": ['ì‹œë‚˜ë¦¬ì˜¤', 'ì œì‘', 'ë§Œë“¤', 'ìƒì„±', 'ë¹Œë”', 'create', 'ë…¸ë“œ', 'ë°©ë²•', 'ì–´ë–»ê²Œ', 'ë§Œë“œ'],
                "required": ['ì‹œë‚˜ë¦¬ì˜¤', 'ë¹Œë”', 'ë…¸ë“œ'],
                "answer": "ğŸ› ï¸ **ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ (Builder Mode)**\n\nTRPG StudioëŠ” **ë…¸ë“œ(Node) ê¸°ë°˜ í¸ì§‘ê¸°**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\nì½”ë”© ì—†ì´ ì´ì•¼ê¸°ì˜ íë¦„ì„ ì‹œê°ì ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ë‚˜ë§Œì˜ ëª¨í—˜ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nìƒë‹¨ì˜ **'Start Creation'** ë²„íŠ¼ì„ ëˆŒëŸ¬ ìº”ë²„ìŠ¤ë¥¼ ì—´ì–´ë³´ì„¸ìš”!",
                "choices": ["ì”¬ ì¶”ê°€ ë°©ë²•", "ë‚´ìš© AI ì‘ì„±", "AI ë„êµ¬ ì†Œê°œ"]
            },
            {
                "keywords": ['ì—¬ìš¸', 'ì„œë¹„ìŠ¤', 'ì†Œê°œ', 'yeoul', 'ì›Œí„°', 'í”Œë«í¼', 'í™ˆí˜ì´ì§€', 'ì‚¬ì´íŠ¸', 'ë­ì•¼', 'ë¬´ìŠ¨', 'ëˆ„êµ¬'],
                "required": ['ì—¬ìš¸'],
                "answer": "ğŸŒŠ **ì—¬ìš¸(YEOUL) ì„œë¹„ìŠ¤ ì†Œê°œ**\n\nì—¬ìš¸ì€ **AI ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ TRPG í”Œë«í¼**ì…ë‹ˆë‹¤.\n\nëˆ„êµ¬ë‚˜ ìƒìƒ ì†ì˜ ëª¨í—˜ì„ **ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì œì‘**í•˜ê³ ,\n**AI ê²Œì„ë§ˆìŠ¤í„°**ì™€ í•¨ê»˜ 1:1ë¡œ ììœ ë¡­ê²Œ í”Œë ˆì´í•  ìˆ˜ ìˆëŠ” ê³µê°„ì…ë‹ˆë‹¤.\n\nì—¬ëŸ¬ë¶„ì˜ ìƒìƒë ¥ì„ ë§ˆìŒê» í¼ì³ë³´ì„¸ìš”!",
                "choices": ["ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ê²Œì„ í”Œë ˆì´ ë°©ë²•", "ìš”ê¸ˆì œ ì•ˆë‚´"]
            },
            {
                "keywords": ['ì²˜ìŒ', 'ì‹œì‘', 'start', 'home', 'ë©”ì¸', 'reset', 'ë¦¬ì…‹', 'ì•ˆë…•', 'ë°˜ê°€', 'hi'],
                "required": [],
                "answer": "ì•ˆë…•í•˜ì„¸ìš”! ëª¨í—˜ê°€ë‹˜. ğŸ‘‹\nì €ëŠ” TRPG Studioì˜ ì•ˆë‚´ë¥¼ ë•ëŠ” AI ê°€ì´ë“œ 'ì—¬ìš¸'ì…ë‹ˆë‹¤.\në¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?",
                "choices": ["ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ìš”ê¸ˆì œ ì•ˆë‚´", "ê²Œì„ í”Œë ˆì´ ë°©ë²•"]
            }
        ]

        # [ë§¤ì¹­ ë¡œì§]
        best_match = None
        max_score = 0

        for item in responses:
            score = 0
            # í•„ìˆ˜ ë‹¨ì–´ ì²´í¬ (ìˆë‹¤ë©´)
            if item.get("required") and not any(r in query for r in item["required"]):
                continue

            # í‚¤ì›Œë“œ ì ìˆ˜ ê³„ì‚°
            for k in item.get("keywords", []):
                if k in query:
                    score += 1

            # ì ìˆ˜ê°€ ë” ë†’ìœ¼ë©´ ê°±ì‹  (ê°™ì€ ì ìˆ˜ë©´ ë¦¬ìŠ¤íŠ¸ ìœ„ìª½ ìš°ì„ )
            if score > max_score:
                max_score = score
                best_match = item

        if best_match:
            # [DB ì—°ë™ ë£° ì²˜ë¦¬] (ì¸ê¸° ì‹œë‚˜ë¦¬ì˜¤ ë“±)
            if best_match.get("type") == "db_popular":
                # ... (DB ë¡œì§ ìœ ì§€) ...
                pass

            return {
                "answer": best_match["answer"],
                "choices": best_match["choices"]
            }

        # ê¸°ë³¸ ì‘ë‹µ
        return {
            "answer": f"ì£„ì†¡í•©ë‹ˆë‹¤. ë§ì”€í•˜ì‹  '{query}'ì— ëŒ€í•œ ì •í™•í•œ ì •ë³´ë¥¼ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ì•„ë˜ ë©”ë‰´ë¥¼ í†µí•´ ë„ì›€ì„ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            "choices": ["ì‹œë‚˜ë¦¬ì˜¤ ì œì‘ ë°©ë²•", "ìš”ê¸ˆì œ ì•ˆë‚´", "ë¬¸ì˜í•˜ê¸°"]
        }