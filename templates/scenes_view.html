<div class="flex-1 overflow-y-auto p-8 fade-in relative">
    <div class="max-w-6xl mx-auto space-y-6">

        <!-- 헤더 -->
        <div class="flex items-end justify-between border-b border-gray-800 pb-4">
            <div>
                <h2 class="text-3xl font-bold text-white flex items-center gap-3">
                    <i data-lucide="layers" class="text-pink-500"></i>
                    {{ title }} - 씬(Scene) 목록
                </h2>
                <p class="text-gray-400 mt-1">현재 시나리오에 생성된 모든 장면과 분기점을 확인합니다.</p>
            </div>
            <div class="text-sm text-gray-500">
                총 {{ scenes|length }}개의 씬
            </div>
        </div>

        <!-- 씬 그리드 -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-12">
            {% for scene in scenes %}
            <div class="bg-gray-900 rounded-xl border border-gray-800 overflow-hidden flex flex-col hover:border-gray-600 transition-colors shadow-lg">
                <!-- 씬 헤더 -->
                <div class="p-4 bg-gray-800/50 border-b border-gray-800 flex justify-between items-start">
                    <h3 class="font-bold text-indigo-300 text-lg line-clamp-1" title="{{ scene.title }}">
                        {{ scene.title }}
                    </h3>
                    <span class="text-xs font-mono text-gray-500 bg-gray-900 px-2 py-1 rounded border border-gray-800">
                        {{ scene.scene_id }}
                    </span>
                </div>

                <!-- 씬 내용 -->
                <div class="p-4 flex-1">
                    <p class="text-sm text-gray-300 leading-relaxed mb-4 line-clamp-4">
                        {{ scene.description }}
                    </p>

                    <!-- NPC 태그 -->
                    {% if scene.npc_names %}
                    <div class="flex flex-wrap gap-2 mb-4">
                        {% for npc in scene.npc_names %}
                        <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded bg-yellow-900/30 text-yellow-500 text-xs border border-yellow-800/50">
                            <i data-lucide="user" class="w-3 h-3"></i> {{ npc }}
                        </span>
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <!-- 선택지 (분기) -->
                <div class="p-4 bg-[#1a1a1e] border-t border-gray-800 text-xs space-y-2">
                    <div class="font-bold text-gray-500 uppercase tracking-wider mb-2 flex items-center gap-2">
                        <i data-lucide="git-branch" class="w-3 h-3"></i> Next Choices
                    </div>
                    {% if scene.choices %}
                        {% for choice in scene.choices %}
                        <div class="flex items-start gap-2 text-gray-400 group">
                            <i data-lucide="corner-down-right" class="w-3 h-3 mt-0.5 shrink-0 text-gray-600 group-hover:text-indigo-500"></i>
                            <div>
                                <span class="block text-gray-300 group-hover:text-white transition-colors">{{ choice.text }}</span>
                                {% if choice.next_scene_id %}
                                <span class="text-indigo-500 font-mono">→ {{ choice.next_scene_id }}</span>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="text-gray-600 italic">연결된 선택지가 없습니다. (엔딩 또는 단일 진행)</div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script>lucide.createIcons();</script>